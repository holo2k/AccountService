include:
    - docker-compose.keycloak.yml

services:
  account-api:
    container_name: account-api
    build: 
        context: ../AccountService
        dockerfile: Dockerfile
    depends_on:
      - keycloak
    ports:
      - "5000:80"
    environment:
      - ASPNETCORE_ENVIRONMENT=Development
      - ASPNETCORE_URLS=http://+:80
      - Keycloak__Authority=http://keycloak:8080/realms/user-access
      - Keycloak__LocalAuthority=http://localhost:8080/realms/user-access
      - Keycloak__SwaggerAuthUrl=http://localhost:8080/realms/user-access/protocol/openid-connect/auth
